<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ObjectDetection</title>
      <link href="/2023/06/02/ObjectDetection/"/>
      <url>/2023/06/02/ObjectDetection/</url>
      
        <content type="html"><![CDATA[<h1 id="下載ultralytics"><a href="#下載ultralytics" class="headerlink" title="下載ultralytics"></a>下載ultralytics</h1><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pip <span class="keyword">install</span> ultralytics</span><br></pre></td></tr></table></figure><h1 id="模型訓練："><a href="#模型訓練：" class="headerlink" title="模型訓練："></a>模型訓練：</h1><h2 id="下載資料集"><a href="#下載資料集" class="headerlink" title="下載資料集"></a>下載資料集</h2><p><strong>首先至Roboflow下載所需<a href="https://public.roboflow.com/">資料集</a></strong></p><p><strong>這邊以<a href="https://universe.roboflow.com/alex-hyams-cosqx/dollar-bill-detection">DollarBill資料集</a>為例</strong><br><strong>點擊”Download this Dataset”</strong><br><img src="/2023/06/02/ObjectDetection/download.png"><br>選擇YOLOv8，並下載zip，然後解壓縮<br><img src="/2023/06/02/ObjectDetection/choose.png"><br><strong>將data.yaml前三行的”..”改成”.”如下</strong>：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">train:</span> <span class="string">./train/images</span></span><br><span class="line"><span class="attr">val:</span> <span class="string">./valid/images</span></span><br><span class="line"><span class="attr">test:</span> <span class="string">./test/images</span></span><br><span class="line"></span><br><span class="line"><span class="attr">nc:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">names:</span> [<span class="string">&#x27;fifty-back&#x27;</span>, <span class="string">&#x27;fifty-front&#x27;</span>, <span class="string">&#x27;five-back&#x27;</span>, <span class="string">&#x27;five-front&#x27;</span>, <span class="string">&#x27;one-back&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;one-front&#x27;</span>, <span class="string">&#x27;ten-back&#x27;</span>, <span class="string">&#x27;ten-front&#x27;</span>, <span class="string">&#x27;twenty-back&#x27;</span>, <span class="string">&#x27;twenty-front&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">roboflow:</span></span><br><span class="line">  <span class="attr">workspace:</span> <span class="string">alex-hyams-cosqx</span></span><br><span class="line">  <span class="attr">project:</span> <span class="string">dollar-bill-detection</span></span><br><span class="line">  <span class="attr">version:</span> <span class="number">23</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://universe.roboflow.com/alex-hyams-cosqx/dollar-bill-detection/dataset/23</span></span><br></pre></td></tr></table></figure><p><strong>在VScode或CMD在解壓縮後的資料夾下執行指令</strong>：</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">yolo <span class="attribute">task</span>=detect <span class="attribute">mode</span>=train <span class="attribute">model</span>=yolov8n.pt <span class="attribute">data</span>=./data.yaml <span class="attribute">epochs</span>=5 <span class="attribute">imgsz</span>=640</span><br></pre></td></tr></table></figure><p><strong>其中epochs可以視情況修改</strong><br><strong>結果如下：</strong><br><img src="/2023/06/02/ObjectDetection/results.png"></p><h1 id="物件偵測："><a href="#物件偵測：" class="headerlink" title="物件偵測："></a>物件偵測：</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> ultralytics <span class="keyword">import</span> YOLO</span><br><span class="line"></span><br><span class="line"><span class="comment">#Load a model:</span></span><br><span class="line">model = YOLO(<span class="string">&quot;./yolov8n.yaml&quot;</span>)  <span class="comment"># build a new model from scratch:</span></span><br><span class="line">model = YOLO(<span class="string">&quot;./yolov8n.pt&quot;</span>)  <span class="comment"># load a pretrained model (recommended for training)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#predict:</span></span><br><span class="line">results = model(<span class="string">&quot;C:\\Users\\USER\\bus.jpg&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">model = YOLO(<span class="string">&quot;./yolov8n.pt&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#from PIL:</span></span><br><span class="line">im1 = Image.<span class="built_in">open</span>(<span class="string">&quot;test.jpg&quot;</span>)</span><br><span class="line"><span class="comment">#save:</span></span><br><span class="line">results = model.predict(source=im1, save=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
